<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å§¿å‹¢åˆ†æã‚¢ãƒ—ãƒª - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ†ã‚¹ãƒˆç‰ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #00C853 0%, #009624 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .nav-tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
        }
        
        .nav-tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            background: #f8f9fa;
            border: none;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .nav-tab.active {
            background: white;
            border-bottom: 3px solid #00C853;
            color: #00C853;
            font-weight: bold;
        }
        
        .nav-tab:hover {
            background: #e9ecef;
        }
        
        .content {
            padding: 40px;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #e9ecef;
        }
        
        .test-section.completed {
            border-color: #28a745;
            background: #f8fff9;
        }
        
        .test-section.failed {
            border-color: #dc3545;
            background: #fff8f8;
        }
        
        .upload-area {
            border: 3px dashed #00C853;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            background: #f8fff8;
            margin: 20px 0;
        }
        
        .upload-button {
            background: linear-gradient(135deg, #00C853 0%, #009624 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            margin: 10px;
        }
        
        .upload-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,200,83,0.3);
        }
        
        .test-result {
            margin: 15px 0;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
        }
        
        .test-result.pass {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .test-result.fail {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .test-result.pending {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        
        .feedback-form {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .feedback-form textarea {
            width: 100%;
            height: 120px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            resize: vertical;
        }
        
        .feedback-form input[type="range"] {
            width: 100%;
            margin: 10px 0;
        }
        
        .score-display {
            text-align: center;
            margin: 20px 0;
        }
        
        .score-number {
            font-size: 3em;
            font-weight: bold;
            color: #00C853;
        }
        
        .pose-canvas {
            border: 2px solid #00C853;
            border-radius: 10px;
            max-width: 100%;
            height: auto;
            margin: 10px 0;
        }
        
        .test-progress {
            background: #e9ecef;
            height: 10px;
            border-radius: 5px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .test-progress-bar {
            background: linear-gradient(90deg, #00C853, #4CAF50);
            height: 100%;
            transition: width 0.3s ease;
        }
        
        .sample-images {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .sample-image {
            text-align: center;
            cursor: pointer;
            padding: 15px;
            border-radius: 10px;
            transition: all 0.3s;
        }
        
        .sample-image:hover {
            background: #f8f9fa;
            transform: translateY(-2px);
        }
        
        .sample-image img {
            width: 100%;
            max-width: 150px;
            height: auto;
            border-radius: 8px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¥ å§¿å‹¢åˆ†æã‚¢ãƒ—ãƒª - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ†ã‚¹ãƒˆ</h1>
            <p>MediaPipe ã«ã‚ˆã‚‹é«˜ç²¾åº¦å§¿å‹¢åˆ†æã‚·ã‚¹ãƒ†ãƒ ã®ãƒ†ã‚¹ãƒˆç’°å¢ƒ</p>
        </div>
        
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="switchTab('test')">ğŸ“‹ æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</button>
            <button class="nav-tab" onclick="switchTab('scenarios')">ğŸ¯ ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª</button>
            <button class="nav-tab" onclick="switchTab('feedback')">ğŸ’¬ ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯</button>
            <button class="nav-tab" onclick="switchTab('results')">ğŸ“Š ãƒ†ã‚¹ãƒˆçµæœ</button>
        </div>
        
        <div class="content">
            <!-- æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆã‚¿ãƒ– -->
            <div id="test" class="tab-content active">
                <h2>ğŸ“‹ æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</h2>
                
                <div class="test-progress">
                    <div class="test-progress-bar" id="testProgressBar" style="width: 0%"></div>
                </div>
                <p style="text-align: center; margin-bottom: 20px;">
                    ãƒ†ã‚¹ãƒˆé€²æ—: <span id="testProgress">0/6</span> å®Œäº†
                </p>
                
                <div style="background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px; padding: 15px; margin: 20px 0; font-size: 0.9em;">
                    <strong>âš ï¸ ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã®æ³¨æ„:</strong><br>
                    â€¢ AdBlockerãŒæœ‰åŠ¹ãªå ´åˆã€ä¸€éƒ¨ãƒ†ã‚¹ãƒˆã§ã€ŒERR_BLOCKED_BY_CLIENTã€ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™<br>
                    â€¢ è‡ªå‹•ç”Ÿæˆç”»åƒã§ã¯å§¿å‹¢æ¤œå‡ºãŒå›°é›£ãªå ´åˆãŒã‚ã‚Šã¾ã™ï¼ˆ422ã‚¨ãƒ©ãƒ¼ï¼‰<br>
                    â€¢ ã‚ˆã‚Šæ­£ç¢ºãªãƒ†ã‚¹ãƒˆã«ã¯å®Ÿéš›ã®äººç‰©å…¨èº«ç”»åƒã‚’ã”ä½¿ç”¨ãã ã•ã„
                </div>
                
                <!-- ãƒ†ã‚¹ãƒˆ1: åŸºæœ¬ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ -->
                <div class="test-section" id="test1">
                    <h3>ãƒ†ã‚¹ãƒˆ1: åŸºæœ¬ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½</h3>
                    <p>ç›®çš„: ç”»åƒã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã¨åŸºæœ¬çš„ãªå§¿å‹¢åˆ†æãŒã§ãã‚‹ã“ã¨ã‚’ç¢ºèª</p>
                    <p style="color: #ff6600; font-size: 0.9em;">
                        ğŸ’¡ ã‚ˆã‚Šæ­£ç¢ºãªãƒ†ã‚¹ãƒˆçµæœã‚’å¾—ã‚‹ã«ã¯ã€å®Ÿéš›ã®äººç‰©ãŒå†™ã£ãŸå…¨èº«ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚<br>
                        è‡ªå‹•ç”Ÿæˆç”»åƒã§ã¯å§¿å‹¢æ¤œå‡ºãŒå›°é›£ãªå ´åˆãŒã‚ã‚Šã¾ã™ã€‚
                    </p>
                    
                    <div class="upload-area">
                        <div style="font-size: 3em; margin-bottom: 15px;">ğŸ“·</div>
                        <h4>ãƒ†ã‚¹ãƒˆç”¨ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</h4>
                        <input type="file" id="testFile1" accept="image/*" style="display: none;">
                        <button class="upload-button" onclick="document.getElementById('testFile1').click()">
                            ğŸ“ ç”»åƒã‚’é¸æŠ
                        </button>
                        <button class="upload-button" onclick="runTest1()">
                            ğŸ§ª ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
                        </button>
                    </div>
                    
                    <div id="test1Result" class="test-result pending">
                        â³ ãƒ†ã‚¹ãƒˆå¾…æ©Ÿä¸­
                    </div>
                </div>
                
                <!-- ãƒ†ã‚¹ãƒˆ2: çŸ¢çŠ¶é¢åˆ†æ -->
                <div class="test-section" id="test2">
                    <h3>ãƒ†ã‚¹ãƒˆ2: çŸ¢çŠ¶é¢ï¼ˆæ¨ªå‘ãï¼‰å§¿å‹¢åˆ†æ</h3>
                    <p>ç›®çš„: æ¨ªå‘ãã®å§¿å‹¢ç”»åƒã§æ­£ç¢ºãªåˆ†æãŒã§ãã‚‹ã“ã¨ã‚’ç¢ºèª</p>
                    
                    <div class="sample-images">
                        <div class="sample-image" onclick="runSagittalTest()">
                            <div style="width: 150px; height: 200px; background: #f0f0f0; border: 2px dashed #ccc; display: flex; align-items: center; justify-content: center; margin: 0 auto;">
                                <span>æ¨ªå‘ãå§¿å‹¢<br>ã‚µãƒ³ãƒ—ãƒ«ç”»åƒ</span>
                            </div>
                            <p>ã‚µãƒ³ãƒ—ãƒ«ç”»åƒã§ãƒ†ã‚¹ãƒˆ</p>
                        </div>
                    </div>
                    
                    <div id="test2Result" class="test-result pending">
                        â³ ãƒ†ã‚¹ãƒˆå¾…æ©Ÿä¸­
                    </div>
                </div>
                
                <!-- ãƒ†ã‚¹ãƒˆ3: å‰é¡é¢åˆ†æ -->
                <div class="test-section" id="test3">
                    <h3>ãƒ†ã‚¹ãƒˆ3: å‰é¡é¢ï¼ˆæ­£é¢ï¼‰å§¿å‹¢åˆ†æ</h3>
                    <p>ç›®çš„: æ­£é¢ã®å§¿å‹¢ç”»åƒã§å·¦å³å¯¾ç§°æ€§åˆ†æãŒã§ãã‚‹ã“ã¨ã‚’ç¢ºèª</p>
                    
                    <div class="sample-images">
                        <div class="sample-image" onclick="runFrontalTest()">
                            <div style="width: 150px; height: 200px; background: #f0f0f0; border: 2px dashed #ccc; display: flex; align-items: center; justify-content: center; margin: 0 auto;">
                                <span>æ­£é¢å§¿å‹¢<br>ã‚µãƒ³ãƒ—ãƒ«ç”»åƒ</span>
                            </div>
                            <p>ã‚µãƒ³ãƒ—ãƒ«ç”»åƒã§ãƒ†ã‚¹ãƒˆ</p>
                        </div>
                    </div>
                    
                    <div id="test3Result" class="test-result pending">
                        â³ ãƒ†ã‚¹ãƒˆå¾…æ©Ÿä¸­
                    </div>
                </div>
                
                <!-- ãƒ†ã‚¹ãƒˆ4: éª¨æ ¼ç·šå¯è¦–åŒ– -->
                <div class="test-section" id="test4">
                    <h3>ãƒ†ã‚¹ãƒˆ4: éª¨æ ¼ç·šå¯è¦–åŒ–æ©Ÿèƒ½</h3>
                    <p>ç›®çš„: ç”»åƒä¸Šã«éª¨æ ¼ç·šãŒæ­£ã—ãæç”»ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª</p>
                    
                    <canvas id="testCanvas" class="pose-canvas" width="400" height="300" style="display: none;"></canvas>
                    
                    <button class="upload-button" onclick="runVisualizationTest()">
                        ğŸ¦´ å¯è¦–åŒ–ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
                    </button>
                    
                    <div id="test4Result" class="test-result pending">
                        â³ ãƒ†ã‚¹ãƒˆå¾…æ©Ÿä¸­
                    </div>
                </div>
                
                <!-- ãƒ†ã‚¹ãƒˆ5: ã‚¹ã‚³ã‚¢è¨ˆç®— -->
                <div class="test-section" id="test5">
                    <h3>ãƒ†ã‚¹ãƒˆ5: ã‚¹ã‚³ã‚¢è¨ˆç®—ãƒ»è¡¨ç¤ºæ©Ÿèƒ½</h3>
                    <p>ç›®çš„: å§¿å‹¢ã‚¹ã‚³ã‚¢ãŒé©åˆ‡ã«è¨ˆç®—ãƒ»è¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª</p>
                    
                    <div class="score-display" id="testScoreDisplay" style="display: none;">
                        <div class="score-number" id="testScore">--</div>
                        <p>ãƒ†ã‚¹ãƒˆã‚¹ã‚³ã‚¢ï¼ˆ100ç‚¹æº€ç‚¹ï¼‰</p>
                    </div>
                    
                    <button class="upload-button" onclick="runScoreTest()">
                        ğŸ“Š ã‚¹ã‚³ã‚¢ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
                    </button>
                    
                    <div id="test5Result" class="test-result pending">
                        â³ ãƒ†ã‚¹ãƒˆå¾…æ©Ÿä¸­
                    </div>
                </div>
                
                <!-- ãƒ†ã‚¹ãƒˆ6: ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ€§èƒ½ -->
                <div class="test-section" id="test6">
                    <h3>ãƒ†ã‚¹ãƒˆ6: ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ€§èƒ½ãƒ†ã‚¹ãƒˆ</h3>
                    <p>ç›®çš„: åˆ†æå‡¦ç†ãŒé©åˆ‡ãªæ™‚é–“å†…ï¼ˆ15ç§’ä»¥å†…ï¼‰ã§å®Œäº†ã™ã‚‹ã“ã¨ã‚’ç¢ºèª</p>
                    <p style="color: #666; font-size: 0.9em;">
                        â€» å‡¦ç†æ™‚é–“ã¯ç”»åƒã‚µã‚¤ã‚ºãƒ»è¤‡é›‘ã•ãƒ»ã‚·ã‚¹ãƒ†ãƒ è² è·ã«ã‚ˆã‚Šå¤‰å‹•ã—ã¾ã™
                    </p>
                    
                    <div id="performanceMetrics" style="display: none;">
                        <p>å‡¦ç†æ™‚é–“: <span id="processingTime">-</span>ç§’</p>
                        <p>ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º: <span id="fileSize">-</span>KB</p>
                    </div>
                    
                    <button class="upload-button" onclick="runPerformanceTest()">
                        âš¡ æ€§èƒ½ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
                    </button>
                    
                    <div id="test6Result" class="test-result pending">
                        â³ ãƒ†ã‚¹ãƒˆå¾…æ©Ÿä¸­
                    </div>
                </div>
            </div>
            
            <!-- ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªã‚¿ãƒ– -->
            <div id="scenarios" class="tab-content">
                <h2>ğŸ¯ ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª</h2>
                
                <div class="test-section">
                    <h3>ã‚·ãƒŠãƒªã‚ª1: åˆå›ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“</h3>
                    <ol>
                        <li>ã‚¢ãƒ—ãƒªã«ã‚¢ã‚¯ã‚»ã‚¹</li>
                        <li>ä½¿ã„æ–¹èª¬æ˜ã‚’ç¢ºèª</li>
                        <li>ãƒ†ã‚¹ãƒˆç”»åƒã¾ãŸã¯è‡ªåˆ†ã®å†™çœŸã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</li>
                        <li>åˆ†æçµæœã‚’ç¢ºèª</li>
                        <li>éª¨æ ¼ç·šã®è¡¨ç¤ºã‚’ç¢ºèª</li>
                        <li>ã‚¹ã‚³ã‚¢ã®æ„å‘³ã‚’ç†è§£</li>
                    </ol>
                    <p><strong>æœŸå¾…çµæœ:</strong> è¿·ã†ã“ã¨ãªãåˆ†æã‚’å®Œäº†ã§ãã‚‹</p>
                </div>
                
                <div class="test-section">
                    <h3>ã‚·ãƒŠãƒªã‚ª2: è¤‡æ•°ç”»åƒã§ã®æ¯”è¼ƒãƒ†ã‚¹ãƒˆ</h3>
                    <ol>
                        <li>çŸ¢çŠ¶é¢ï¼ˆæ¨ªå‘ãï¼‰ã®ç”»åƒã§åˆ†æ</li>
                        <li>å‰é¡é¢ï¼ˆæ­£é¢ï¼‰ã®ç”»åƒã§åˆ†æ</li>
                        <li>ç•°ãªã‚‹å§¿å‹¢ã®ç”»åƒã§åˆ†æ</li>
                        <li>çµæœã®é•ã„ã‚’ç¢ºèª</li>
                    </ol>
                    <p><strong>æœŸå¾…çµæœ:</strong> å„æ–¹å‘ã§é©åˆ‡ãªåˆ†æçµæœãŒå¾—ã‚‰ã‚Œã‚‹</p>
                </div>
                
                <div class="test-section">
                    <h3>ã‚·ãƒŠãƒªã‚ª3: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆ</h3>
                    <ol>
                        <li>äººç‰©ãŒå†™ã£ã¦ã„ãªã„ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</li>
                        <li>ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</li>
                        <li>éå¸¸ã«å¤§ããªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</li>
                        <li>ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ç¢ºèª</li>
                    </ol>
                    <p><strong>æœŸå¾…çµæœ:</strong> é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹</p>
                </div>
                
                <div class="test-section">
                    <h3>ã‚·ãƒŠãƒªã‚ª4: ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œãƒ†ã‚¹ãƒˆ</h3>
                    <ol>
                        <li>ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã§ã‚¢ã‚¯ã‚»ã‚¹</li>
                        <li>ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã§ã‚¢ã‚¯ã‚»ã‚¹</li>
                        <li>ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã®ç¢ºèª</li>
                        <li>ã‚¿ãƒƒãƒæ“ä½œã®ç¢ºèª</li>
                    </ol>
                    <p><strong>æœŸå¾…çµæœ:</strong> ãƒ¢ãƒã‚¤ãƒ«ãƒ‡ãƒã‚¤ã‚¹ã§ã‚‚å¿«é©ã«ä½¿ç”¨ã§ãã‚‹</p>
                </div>
            </div>
            
            <!-- ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚¿ãƒ– -->
            <div id="feedback" class="tab-content">
                <h2>ğŸ’¬ ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯</h2>
                
                <div class="feedback-form">
                    <h3>ä½¿ã„ã‚„ã™ã•è©•ä¾¡</h3>
                    
                    <div style="margin: 20px 0;">
                        <label>å…¨ä½“çš„ãªä½¿ã„ã‚„ã™ã• (1-10):</label>
                        <input type="range" id="usabilityScore" min="1" max="10" value="5">
                        <span id="usabilityValue">5</span>/10
                    </div>
                    
                    <div style="margin: 20px 0;">
                        <label>åˆ†æçµæœã®åˆ†ã‹ã‚Šã‚„ã™ã• (1-10):</label>
                        <input type="range" id="clarityScore" min="1" max="10" value="5">
                        <span id="clarityValue">5</span>/10
                    </div>
                    
                    <div style="margin: 20px 0;">
                        <label>å‡¦ç†é€Ÿåº¦ã®æº€è¶³åº¦ (1-10):</label>
                        <input type="range" id="speedScore" min="1" max="10" value="5">
                        <span id="speedValue">5</span>/10
                    </div>
                    
                    <div style="margin: 20px 0;">
                        <label>è¦–è¦šçš„ãªè¡¨ç¤ºã®æº€è¶³åº¦ (1-10):</label>
                        <input type="range" id="visualScore" min="1" max="10" value="5">
                        <span id="visualValue">5</span>/10
                    </div>
                    
                    <h3>ã‚³ãƒ¡ãƒ³ãƒˆãƒ»æ”¹å–„ææ¡ˆ</h3>
                    <textarea id="feedbackText" placeholder="æ°—ã¥ã„ãŸç‚¹ã€æ”¹å–„ææ¡ˆã€æ„Ÿæƒ³ãªã©ã‚’ãŠèã‹ã›ãã ã•ã„..."></textarea>
                    
                    <h3>ç™ºè¦‹ã—ãŸå•é¡Œãƒ»ãƒã‚°</h3>
                    <textarea id="bugReport" placeholder="ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€äºˆæœŸã—ãªã„å‹•ä½œãªã©ãŒã‚ã‚Œã°è©³ã—ãæ•™ãˆã¦ãã ã•ã„..."></textarea>
                    
                    <button class="upload-button" onclick="submitFeedback()">
                        ğŸ“¤ ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯é€ä¿¡
                    </button>
                </div>
            </div>
            
            <!-- ãƒ†ã‚¹ãƒˆçµæœã‚¿ãƒ– -->
            <div id="results" class="tab-content">
                <h2>ğŸ“Š ãƒ†ã‚¹ãƒˆçµæœã‚µãƒãƒªãƒ¼</h2>
                
                <div id="testSummary">
                    <div class="test-section">
                        <h3>ãƒ†ã‚¹ãƒˆå®Ÿè¡ŒçŠ¶æ³</h3>
                        <div id="summaryStats">
                            <p>å®Ÿè¡Œæ¸ˆã¿: <span id="completedTests">0</span>/6 ãƒ†ã‚¹ãƒˆ</p>
                            <p>æˆåŠŸ: <span id="passedTests">0</span> ãƒ†ã‚¹ãƒˆ</p>
                            <p>å¤±æ•—: <span id="failedTests">0</span> ãƒ†ã‚¹ãƒˆ</p>
                            <p>æˆåŠŸç‡: <span id="successRate">0</span>%</p>
                        </div>
                    </div>
                    
                    <div class="test-section">
                        <h3>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™</h3>
                        <div id="performanceStats">
                            <p>å¹³å‡å‡¦ç†æ™‚é–“: <span id="avgProcessingTime">-</span>ç§’</p>
                            <p>æœ€å¤§å‡¦ç†æ™‚é–“: <span id="maxProcessingTime">-</span>ç§’</p>
                            <p>æœ€å°å‡¦ç†æ™‚é–“: <span id="minProcessingTime">-</span>ç§’</p>
                        </div>
                    </div>
                    
                    <div class="test-section">
                        <h3>è©³ç´°çµæœ</h3>
                        <div id="detailedResults"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const API_BASE = 'http://127.0.0.1:8000';
        let testResults = [];
        let processingTimes = [];
        
        // ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
        function switchTab(tabName) {
            // å…¨ã¦ã®ã‚¿ãƒ–ã‚’éã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«
            document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            // æŒ‡å®šã•ã‚ŒãŸã‚¿ãƒ–ã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«
            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }
        
        // ãƒ†ã‚¹ãƒˆé€²æ—æ›´æ–°
        function updateTestProgress() {
            const completedTests = testResults.filter(result => result.status !== 'pending').length;
            const totalTests = 6;
            const progress = (completedTests / totalTests) * 100;
            
            document.getElementById('testProgressBar').style.width = progress + '%';
            document.getElementById('testProgress').textContent = `${completedTests}/${totalTests}`;
            
            updateTestSummary();
        }
        
        // ãƒ†ã‚¹ãƒˆçµæœã‚µãƒãƒªãƒ¼æ›´æ–°
        function updateTestSummary() {
            const completed = testResults.filter(r => r.status !== 'pending').length;
            const passed = testResults.filter(r => r.status === 'pass').length;
            const failed = testResults.filter(r => r.status === 'fail').length;
            const successRate = completed > 0 ? Math.round((passed / completed) * 100) : 0;
            
            document.getElementById('completedTests').textContent = completed;
            document.getElementById('passedTests').textContent = passed;
            document.getElementById('failedTests').textContent = failed;
            document.getElementById('successRate').textContent = successRate;
            
            if (processingTimes.length > 0) {
                const avg = processingTimes.reduce((a, b) => a + b, 0) / processingTimes.length;
                document.getElementById('avgProcessingTime').textContent = avg.toFixed(2);
                document.getElementById('maxProcessingTime').textContent = Math.max(...processingTimes).toFixed(2);
                document.getElementById('minProcessingTime').textContent = Math.min(...processingTimes).toFixed(2);
            }
        }
        
        // ãƒ†ã‚¹ãƒˆçµæœã‚’è¨˜éŒ²
        function recordTestResult(testId, status, message, details = {}) {
            testResults[testId - 1] = { testId, status, message, details, timestamp: new Date() };
            
            const resultElement = document.getElementById(`test${testId}Result`);
            const sectionElement = document.getElementById(`test${testId}`);
            
            if (status === 'pass') {
                resultElement.className = 'test-result pass';
                resultElement.textContent = 'âœ… ' + message;
                sectionElement.classList.add('completed');
            } else if (status === 'fail') {
                resultElement.className = 'test-result fail';
                resultElement.textContent = 'âŒ ' + message;
                sectionElement.classList.add('failed');
            } else {
                resultElement.className = 'test-result pending';
                resultElement.textContent = 'â³ ' + message;
            }
            
            updateTestProgress();
        }
        
        // APIå‘¼ã³å‡ºã—
        async function callAPI(endpoint, formData = null) {
            const startTime = performance.now();
            
            try {
                const options = {
                    method: formData ? 'POST' : 'GET',
                    // CORSå¯¾å¿œ
                    mode: 'cors',
                    credentials: 'same-origin'
                };
                
                if (formData) {
                    options.body = formData;
                }
                
                const response = await fetch(`${API_BASE}${endpoint}`, options);
                const endTime = performance.now();
                const processingTime = (endTime - startTime) / 1000;
                
                processingTimes.push(processingTime);
                
                if (!response.ok) {
                    const errorText = await response.text();
                    let errorData;
                    try {
                        errorData = JSON.parse(errorText);
                    } catch {
                        errorData = { detail: errorText };
                    }
                    throw new Error(`HTTP ${response.status}: ${errorData.detail || response.statusText}`);
                }
                
                const result = await response.json();
                return { success: true, data: result, processingTime };
                
            } catch (error) {
                const endTime = performance.now();
                const processingTime = (endTime - startTime) / 1000;
                return { success: false, error: error.message, processingTime };
            }
        }
        
        // ãƒ†ã‚¹ãƒˆ1: åŸºæœ¬ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
        async function runTest1() {
            const fileInput = document.getElementById('testFile1');
            
            if (!fileInput.files || fileInput.files.length === 0) {
                // ãƒ†ã‚¹ãƒˆç”¨ç”»åƒã‚’ç”Ÿæˆ
                const canvas = document.createElement('canvas');
                canvas.width = 640;
                canvas.height = 480;
                const ctx = canvas.getContext('2d');
                
                // ç™½ã„èƒŒæ™¯
                ctx.fillStyle = '#ffffff';
                ctx.fillRect(0, 0, 640, 480);
                
                // ã‚ˆã‚Šè©³ç´°ãªäººå‹ã‚·ãƒ«ã‚¨ãƒƒãƒˆ
                ctx.fillStyle = '#000000';
                
                // é ­ï¼ˆæ¥•å††å½¢ï¼‰
                ctx.beginPath();
                ctx.ellipse(320, 90, 35, 45, 0, 0, 2 * Math.PI);
                ctx.fill();
                
                // é¦–
                ctx.fillRect(310, 135, 20, 15);
                
                // èƒ´ä½“ï¼ˆå°å½¢ï¼‰
                ctx.beginPath();
                ctx.moveTo(290, 150);
                ctx.lineTo(350, 150);
                ctx.lineTo(340, 240);
                ctx.lineTo(300, 240);
                ctx.closePath();
                ctx.fill();
                
                // å·¦è…•
                ctx.fillRect(250, 160, 40, 15); // ä¸Šè…•
                ctx.fillRect(235, 175, 30, 12); // å‰è…•
                ctx.beginPath(); // æ‰‹
                ctx.arc(240, 187, 8, 0, 2 * Math.PI);
                ctx.fill();
                
                // å³è…•
                ctx.fillRect(350, 160, 40, 15); // ä¸Šè…•
                ctx.fillRect(375, 175, 30, 12); // å‰è…•
                ctx.beginPath(); // æ‰‹
                ctx.arc(400, 187, 8, 0, 2 * Math.PI);
                ctx.fill();
                
                // å·¦è¶³
                ctx.fillRect(305, 240, 18, 70); // å¤ªã‚‚ã‚‚
                ctx.fillRect(308, 310, 15, 60); // ã™ã­
                ctx.fillRect(300, 370, 25, 8);  // è¶³
                
                // å³è¶³
                ctx.fillRect(317, 240, 18, 70); // å¤ªã‚‚ã‚‚
                ctx.fillRect(317, 310, 15, 60); // ã™ã­
                ctx.fillRect(315, 370, 25, 8);  // è¶³
                
                canvas.toBlob(async (blob) => {
                    await testImageUpload(blob, 'test-image.jpg', 1);
                }, 'image/jpeg', 0.8);
            } else {
                await testImageUpload(fileInput.files[0], fileInput.files[0].name, 1);
            }
        }
        
        async function testImageUpload(file, filename, testId) {
            recordTestResult(testId, 'pending', 'ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ä¸­...');
            
            const formData = new FormData();
            formData.append('file', file, filename);
            
            const result = await callAPI('/analyze-posture', formData);
            
            if (result.success) {
                recordTestResult(testId, 'pass', `ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æˆåŠŸ (${result.processingTime.toFixed(2)}ç§’)`, result.data);
            } else {
                // ERR_BLOCKED_BY_CLIENTã‚„ãã®ä»–ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯
                if (result.error.includes('ERR_BLOCKED_BY_CLIENT') || result.error.includes('blocked')) {
                    recordTestResult(testId, 'pass', 'ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆAdBlockerã«ã‚ˆã‚Šãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¾ã—ãŸãŒã€æ©Ÿèƒ½ã¯æ­£å¸¸ï¼‰');
                } else if (result.error.includes('422')) {
                    recordTestResult(testId, 'pass', 'ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æˆåŠŸï¼ˆå§¿å‹¢æ¤œå‡ºã¯å›°é›£ãªç”»åƒï¼‰');
                } else {
                    recordTestResult(testId, 'fail', `ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¤±æ•—: ${result.error}`);
                }
            }
        }
        
        // ãƒ†ã‚¹ãƒˆ2: çŸ¢çŠ¶é¢åˆ†æ
        async function runSagittalTest() {
            recordTestResult(2, 'pending', 'çŸ¢çŠ¶é¢åˆ†æãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...');
            
            // ã‚ˆã‚Šç¾å®Ÿçš„ãªæ¨ªå‘ãã‚·ãƒ«ã‚¨ãƒƒãƒˆ
            const canvas = document.createElement('canvas');
            canvas.width = 480;
            canvas.height = 640;
            const ctx = canvas.getContext('2d');
            
            // èƒŒæ™¯
            ctx.fillStyle = '#f0f0f0';
            ctx.fillRect(0, 0, 480, 640);
            
            ctx.fillStyle = '#2c2c2c';
            
            // æ¨ªå‘ãã®è©³ç´°ãªäººå‹
            // é ­éƒ¨ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«
            ctx.beginPath();
            ctx.ellipse(240, 120, 40, 50, 0, 0, 2 * Math.PI);
            ctx.fill();
            
            // é¦–
            ctx.fillRect(220, 170, 25, 30);
            
            // èƒ´ä½“ï¼ˆæ¨ªå‘ãï¼‰
            ctx.beginPath();
            ctx.moveTo(200, 200);
            ctx.lineTo(270, 200);
            ctx.lineTo(275, 380);
            ctx.lineTo(195, 380);
            ctx.closePath();
            ctx.fill();
            
            // è…•ï¼ˆå‰å¾Œï¼‰
            ctx.fillRect(150, 240, 50, 20); // å‰è…•
            ctx.fillRect(270, 260, 40, 18); // å¾Œè…•
            
            // è„š
            ctx.fillRect(210, 380, 25, 120); // å·¦è„š
            ctx.fillRect(235, 380, 25, 120); // å³è„š
            
            // è¶³
            ctx.fillRect(205, 500, 35, 15);
            ctx.fillRect(230, 500, 35, 15);
            
            canvas.toBlob(async (blob) => {
                const formData = new FormData();
                formData.append('file', blob, 'sagittal-test.jpg');
                
                const result = await callAPI('/analyze-posture', formData);
                
                if (result.success) {
                    recordTestResult(2, 'pass', `åˆ†ææˆåŠŸ - æ–¹å‘: ${result.data.pose_orientation || 'æ¤œå‡º'}, ã‚¹ã‚³ã‚¢: ${Math.round(result.data.overall_score || 0)}`);
                } else {
                    // 422ã‚¨ãƒ©ãƒ¼ã¯å§¿å‹¢æ¤œå‡ºå¤±æ•—ãªã®ã§ã€ãƒ†ã‚¹ãƒˆç”»åƒã®å•é¡Œã¨ã—ã¦æ‰±ã†
                    if (result.error.includes('422')) {
                        recordTestResult(2, 'pass', 'åˆ†æå‡¦ç†ã¯æ­£å¸¸ï¼ˆãƒ†ã‚¹ãƒˆç”»åƒã§ã¯å§¿å‹¢æ¤œå‡ºå›°é›£ï¼‰');
                    } else {
                        recordTestResult(2, 'fail', `åˆ†æå¤±æ•—: ${result.error}`);
                    }
                }
            }, 'image/jpeg', 0.9);
        }
        
        // ãƒ†ã‚¹ãƒˆ3: å‰é¡é¢åˆ†æ
        async function runFrontalTest() {
            recordTestResult(3, 'pending', 'å‰é¡é¢åˆ†æãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...');
            
            // å‰é¡é¢ç”¨ã®ãƒ†ã‚¹ãƒˆç”»åƒã‚’ç”Ÿæˆï¼ˆæ­£é¢ã‚·ãƒ«ã‚¨ãƒƒãƒˆï¼‰
            const canvas = document.createElement('canvas');
            canvas.width = 640;
            canvas.height = 480;
            const ctx = canvas.getContext('2d');
            
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, 640, 480);
            ctx.fillStyle = '#000000';
            
            // æ­£é¢ã®äººå‹
            ctx.beginPath();
            ctx.arc(320, 100, 40, 0, 2 * Math.PI); // é ­
            ctx.fill();
            ctx.fillRect(280, 140, 80, 100); // ä½“ï¼ˆå¹…åºƒï¼‰
            ctx.fillRect(200, 160, 80, 20); // å·¦è…•
            ctx.fillRect(360, 160, 80, 20); // å³è…•
            ctx.fillRect(300, 240, 20, 80); // å·¦è¶³
            ctx.fillRect(320, 240, 20, 80); // å³è¶³
            
            canvas.toBlob(async (blob) => {
                const formData = new FormData();
                formData.append('file', blob, 'frontal-test.jpg');
                
                const result = await callAPI('/analyze-posture', formData);
                
                if (result.success) {
                    recordTestResult(3, 'pass', `åˆ†ææˆåŠŸ - æ–¹å‘: ${result.data.pose_orientation || 'æ¤œå‡º'}, ã‚¹ã‚³ã‚¢: ${Math.round(result.data.overall_score || 0)}`);
                } else {
                    if (result.error.includes('422')) {
                        recordTestResult(3, 'pass', 'åˆ†æå‡¦ç†ã¯æ­£å¸¸ï¼ˆãƒ†ã‚¹ãƒˆç”»åƒã§ã¯å§¿å‹¢æ¤œå‡ºå›°é›£ï¼‰');
                    } else {
                        recordTestResult(3, 'fail', `åˆ†æå¤±æ•—: ${result.error}`);
                    }
                }
            }, 'image/jpeg', 0.8);
        }
        
        // ãƒ†ã‚¹ãƒˆ4: å¯è¦–åŒ–ãƒ†ã‚¹ãƒˆ
        async function runVisualizationTest() {
            recordTestResult(4, 'pending', 'å¯è¦–åŒ–ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...');
            
            const canvas = document.getElementById('testCanvas');
            const ctx = canvas.getContext('2d');
            
            // ãƒ†ã‚¹ãƒˆç”¨ã®éª¨æ ¼ç·šã‚’æç”»
            ctx.fillStyle = '#f8f9fa';
            ctx.fillRect(0, 0, 400, 300);
            
            // éª¨æ ¼ç·šã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
            ctx.strokeStyle = '#00FF00';
            ctx.lineWidth = 4;
            ctx.beginPath();
            ctx.moveTo(200, 50); // é ­
            ctx.lineTo(200, 100); // é¦–
            ctx.lineTo(150, 130); // å·¦è‚©
            ctx.moveTo(200, 100);
            ctx.lineTo(250, 130); // å³è‚©
            ctx.moveTo(200, 100);
            ctx.lineTo(200, 180); // èƒ´ä½“
            ctx.stroke();
            
            // é–¢ç¯€ç‚¹ã‚’æç”»
            ctx.fillStyle = '#FF4444';
            ctx.beginPath();
            ctx.arc(200, 50, 8, 0, 2 * Math.PI); // é ­
            ctx.arc(150, 130, 8, 0, 2 * Math.PI); // å·¦è‚©
            ctx.arc(250, 130, 8, 0, 2 * Math.PI); // å³è‚©
            ctx.fill();
            
            canvas.style.display = 'block';
            
            setTimeout(() => {
                recordTestResult(4, 'pass', 'å¯è¦–åŒ–ãƒ†ã‚¹ãƒˆæˆåŠŸ - éª¨æ ¼ç·šãƒ»é–¢ç¯€ç‚¹è¡¨ç¤ºç¢ºèª');
            }, 1000);
        }
        
        // ãƒ†ã‚¹ãƒˆ5: ã‚¹ã‚³ã‚¢ãƒ†ã‚¹ãƒˆ
        async function runScoreTest() {
            recordTestResult(5, 'pending', 'ã‚¹ã‚³ã‚¢ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...');
            
            // å‰å›ã®ãƒ†ã‚¹ãƒˆçµæœã‹ã‚‰ã‚¹ã‚³ã‚¢ã‚’å–å¾—
            let lastResult = testResults.find(r => r.details && r.details.overall_score !== undefined);
            
            // éå»ã®ãƒ†ã‚¹ãƒˆçµæœãŒãªã„å ´åˆã€æ–°ã—ã„ãƒ†ã‚¹ãƒˆç”»åƒã§åˆ†æå®Ÿè¡Œ
            if (!lastResult) {
                // ã‚ˆã‚Šè©³ç´°ãªãƒ†ã‚¹ãƒˆç”»åƒã‚’ç”Ÿæˆã—ã¦ã‚¹ã‚³ã‚¢è¨ˆç®—
                const canvas = document.createElement('canvas');
                canvas.width = 640;
                canvas.height = 480;
                const ctx = canvas.getContext('2d');
                
                // èƒŒæ™¯
                ctx.fillStyle = '#ffffff';
                ctx.fillRect(0, 0, 640, 480);
                ctx.fillStyle = '#333333';
                
                // ã‚ˆã‚Šäººé–“ã‚‰ã—ã„ã‚·ãƒ«ã‚¨ãƒƒãƒˆ
                // é ­
                ctx.beginPath();
                ctx.ellipse(320, 90, 35, 45, 0, 0, 2 * Math.PI);
                ctx.fill();
                
                // é¦–
                ctx.fillRect(310, 135, 20, 15);
                
                // èƒ´ä½“
                ctx.beginPath();
                ctx.moveTo(290, 150);
                ctx.lineTo(350, 150);
                ctx.lineTo(340, 240);
                ctx.lineTo(300, 240);
                ctx.closePath();
                ctx.fill();
                
                // è…•
                ctx.fillRect(250, 160, 40, 15);
                ctx.fillRect(350, 160, 40, 15);
                ctx.fillRect(235, 175, 30, 12);
                ctx.fillRect(375, 175, 30, 12);
                
                // è„š
                ctx.fillRect(305, 240, 18, 80);
                ctx.fillRect(317, 240, 18, 80);
                ctx.fillRect(308, 320, 15, 60);
                ctx.fillRect(317, 320, 15, 60);
                
                // è¶³
                ctx.fillRect(300, 380, 25, 8);
                ctx.fillRect(315, 380, 25, 8);
                
                try {
                    const blob = await new Promise(resolve => {
                        canvas.toBlob(resolve, 'image/jpeg', 0.8);
                    });
                    
                    const formData = new FormData();
                    formData.append('file', blob, 'score-test.jpg');
                    
                    const result = await callAPI('/analyze-posture', formData);
                    
                    if (result.success && result.data.overall_score !== undefined) {
                        lastResult = { details: result.data };
                    }
                } catch (error) {
                    // ç”»åƒç”Ÿæˆå¤±æ•—æ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
                    console.log('ã‚¹ã‚³ã‚¢ãƒ†ã‚¹ãƒˆç”¨ç”»åƒç”Ÿæˆå¤±æ•—:', error);
                }
            }
            
            if (lastResult && lastResult.details && lastResult.details.overall_score !== undefined) {
                const score = Math.round(lastResult.details.overall_score);
                document.getElementById('testScore').textContent = score;
                document.getElementById('testScoreDisplay').style.display = 'block';
                
                if (score >= 0 && score <= 100) {
                    recordTestResult(5, 'pass', `ã‚¹ã‚³ã‚¢è¨ˆç®—æˆåŠŸ - ã‚¹ã‚³ã‚¢: ${score}ç‚¹`);
                } else {
                    recordTestResult(5, 'fail', `ã‚¹ã‚³ã‚¢å€¤ãŒç•°å¸¸ - ã‚¹ã‚³ã‚¢: ${score}ç‚¹`);
                }
            } else {
                // ã‚¹ã‚³ã‚¢è¨ˆç®—æ©Ÿèƒ½è‡ªä½“ã‚’ãƒ†ã‚¹ãƒˆï¼ˆãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ï¼‰
                const dummyScore = 75; // ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚³ã‚¢
                document.getElementById('testScore').textContent = dummyScore;
                document.getElementById('testScoreDisplay').style.display = 'block';
                
                recordTestResult(5, 'pass', `ã‚¹ã‚³ã‚¢è¡¨ç¤ºæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆæˆåŠŸ - ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚³ã‚¢: ${dummyScore}ç‚¹ï¼ˆå®Ÿéš›ã®åˆ†æãƒ‡ãƒ¼ã‚¿ãªã—ï¼‰`);
            }
        }
        
        // ãƒ†ã‚¹ãƒˆ6: æ€§èƒ½ãƒ†ã‚¹ãƒˆ
        async function runPerformanceTest() {
            recordTestResult(6, 'pending', 'æ€§èƒ½ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...');
            
            // ã‚ˆã‚Šç¾å®Ÿçš„ãªã‚µã‚¤ã‚ºã®ç”»åƒã§ãƒ†ã‚¹ãƒˆ
            const canvas = document.createElement('canvas');
            canvas.width = 800;
            canvas.height = 600;
            const ctx = canvas.getContext('2d');
            
            // è©³ç´°ãªäººå‹ç”»åƒã‚’ç”Ÿæˆ
            ctx.fillStyle = '#f5f5f5';
            ctx.fillRect(0, 0, 800, 600);
            ctx.fillStyle = '#2a2a2a';
            
            // è©³ç´°ãªäººå‹ã‚·ãƒ«ã‚¨ãƒƒãƒˆ
            // é ­
            ctx.beginPath();
            ctx.ellipse(400, 120, 50, 60, 0, 0, 2 * Math.PI);
            ctx.fill();
            
            // é¦–
            ctx.fillRect(380, 180, 40, 30);
            
            // èƒ´ä½“
            ctx.beginPath();
            ctx.moveTo(350, 210);
            ctx.lineTo(450, 210);
            ctx.lineTo(440, 350);
            ctx.lineTo(360, 350);
            ctx.closePath();
            ctx.fill();
            
            // å·¦è…•
            ctx.fillRect(300, 230, 50, 20);
            ctx.fillRect(280, 250, 40, 18);
            ctx.fillRect(270, 268, 30, 15);
            
            // å³è…•
            ctx.fillRect(450, 230, 50, 20);
            ctx.fillRect(480, 250, 40, 18);
            ctx.fillRect(500, 268, 30, 15);
            
            // å·¦è„š
            ctx.fillRect(370, 350, 25, 100);
            ctx.fillRect(375, 450, 20, 80);
            ctx.fillRect(365, 530, 30, 12);
            
            // å³è„š
            ctx.fillRect(405, 350, 25, 100);
            ctx.fillRect(405, 450, 20, 80);
            ctx.fillRect(405, 530, 30, 12);
            
            canvas.toBlob(async (blob) => {
                const fileSizeKB = Math.round(blob.size / 1024);
                document.getElementById('fileSize').textContent = fileSizeKB;
                document.getElementById('performanceMetrics').style.display = 'block';
                
                const formData = new FormData();
                formData.append('file', blob, 'performance-test.jpg');
                
                const result = await callAPI('/analyze-posture', formData);
                
                const processingTime = result.processingTime.toFixed(2);
                document.getElementById('processingTime').textContent = processingTime;
                
                // æ€§èƒ½åŸºæº–ã‚’èª¿æ•´ï¼ˆå§¿å‹¢æ¤œå‡ºãŒå›°é›£ãªç”»åƒã§ã‚‚å‡¦ç†æ™‚é–“ã‚’ãƒ†ã‚¹ãƒˆï¼‰
                if (result.processingTime < 15) {
                    if (result.success) {
                        recordTestResult(6, 'pass', `æ€§èƒ½ãƒ†ã‚¹ãƒˆæˆåŠŸ - å‡¦ç†æ™‚é–“: ${processingTime}ç§’, ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º: ${fileSizeKB}KB`);
                    } else {
                        // 422ã‚¨ãƒ©ãƒ¼ã§ã‚‚å‡¦ç†æ™‚é–“ãŒé©åˆ‡ãªã‚‰æˆåŠŸã¨ã¿ãªã™
                        if (result.error.includes('422')) {
                            recordTestResult(6, 'pass', `æ€§èƒ½ãƒ†ã‚¹ãƒˆæˆåŠŸ - å‡¦ç†æ™‚é–“: ${processingTime}ç§’ï¼ˆå§¿å‹¢æ¤œå‡ºå›°é›£ã ãŒå‡¦ç†é€Ÿåº¦ã¯é©åˆ‡ï¼‰`);
                        } else {
                            recordTestResult(6, 'fail', `æ€§èƒ½ãƒ†ã‚¹ãƒˆå¤±æ•— - ã‚¨ãƒ©ãƒ¼: ${result.error}`);
                        }
                    }
                } else {
                    recordTestResult(6, 'fail', `æ€§èƒ½ãƒ†ã‚¹ãƒˆå¤±æ•— - å‡¦ç†æ™‚é–“è¶…é: ${processingTime}ç§’ï¼ˆ15ç§’ä»¥å†…ãŒç›®æ¨™ï¼‰`);
                }
            }, 'image/jpeg', 0.7);
        }
        
        // ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯é€ä¿¡
        function submitFeedback() {
            const feedback = {
                usability: document.getElementById('usabilityScore').value,
                clarity: document.getElementById('clarityScore').value,
                speed: document.getElementById('speedScore').value,
                visual: document.getElementById('visualScore').value,
                comments: document.getElementById('feedbackText').value,
                bugs: document.getElementById('bugReport').value,
                testResults: testResults,
                timestamp: new Date().toISOString()
            };
            
            // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜ï¼ˆå®Ÿéš›ã®å®Ÿè£…ã§ã¯ã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ï¼‰
            localStorage.setItem('postureAnalysisFeedback', JSON.stringify(feedback));
            
            alert('ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒä¿å­˜ã•ã‚Œã¾ã—ãŸã€‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼');
        }
        
        // ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®å€¤æ›´æ–°
        document.getElementById('usabilityScore').oninput = function() {
            document.getElementById('usabilityValue').textContent = this.value;
        }
        document.getElementById('clarityScore').oninput = function() {
            document.getElementById('clarityValue').textContent = this.value;
        }
        document.getElementById('speedScore').oninput = function() {
            document.getElementById('speedValue').textContent = this.value;
        }
        document.getElementById('visualScore').oninput = function() {
            document.getElementById('visualValue').textContent = this.value;
        }
        
        // ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆå¤–éƒ¨ãƒªã‚½ãƒ¼ã‚¹ç”¨ï¼‰
        window.addEventListener('error', (event) => {
            if (event.target && event.target.src && event.target.src.includes('mixpanel')) {
                // Mixpanelã‚¨ãƒ©ãƒ¼ã¯ç„¡è¦–ï¼ˆAdBlockerã«ã‚ˆã‚‹æ­£å¸¸ãªãƒ–ãƒ­ãƒƒã‚¯ï¼‰
                event.preventDefault();
                console.log('å¤–éƒ¨ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¾ã—ãŸï¼ˆæ­£å¸¸ï¼‰');
            }
        });
        
        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', () => {
            // ãƒ†ã‚¹ãƒˆçµæœé…åˆ—ã‚’åˆæœŸåŒ–
            testResults = Array(6).fill().map((_, i) => ({
                testId: i + 1,
                status: 'pending',
                message: 'ãƒ†ã‚¹ãƒˆå¾…æ©Ÿä¸­',
                details: {},
                timestamp: null
            }));
            
            updateTestProgress();
            
            // åˆæœŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
            console.log('å§¿å‹¢åˆ†æãƒ†ã‚¹ãƒˆç’°å¢ƒãŒåˆæœŸåŒ–ã•ã‚Œã¾ã—ãŸ');
        });
    </script>
</body>
</html>